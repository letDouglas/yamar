# Bitnami Elasticsearch Chart Overrides (Classic Repository)
global:
  kibanaEnabled: false
  security:
    allowInsecureImages: true

image:
  registry: registry-1.docker.io
  repository: bitnamilegacy/elasticsearch
  tag: latest

# -----------------------------------------------------------------
# CLUSTER TOPOLOGY: SINGLE NODE
# -----------------------------------------------------------------
master:
  masterOnly: false
  replicaCount: 1
  heapSize: 512m
  resources:
    requests:
      cpu: 100m
      memory: 768Mi
    limits:
      cpu: 500m
      memory: 1Gi
  persistence:
    enabled: false

data:
  replicaCount: 0
coordinating:
  replicaCount: 0
ingest:
  replicaCount: 0

# -----------------------------------------------------------------
# SECURITY & NETWORKING
# -----------------------------------------------------------------
security:
  enabled: false
  tls:
    autoGenerated: false
    http:
      enabled: false

# -----------------------------------------------------------------
# KERNEL TUNING
# -----------------------------------------------------------------
# Disabled to prevent privilege issues on standard Kind clusters
sysctlImage:
  enabled: false

service:
  type: ClusterIP
  ports:
    http: 9200

extraEnvVars:
  - name: ES_JAVA_OPTS
    value: "-Xms512m -Xmx512m"
  - name: discovery.type
    value: "single-node"